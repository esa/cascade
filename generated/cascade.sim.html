
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>cascade.sim &#8212; cascade 0.1.10 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=3d055840"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'generated/cascade.sim';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="cascade.outcome" href="cascade.outcome.html" />
    <link rel="prev" title="cascade" href="../mod_cascade.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="cascade 0.1.10 documentation - Home"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="cascade 0.1.10 documentation - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../index.html">
                    cascade
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../api_reference.html">API reference</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2 current active has-children"><a class="reference internal" href="../mod_cascade.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cascade</span></code></a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l3 current active"><a class="current reference internal" href="#">cascade.sim</a></li>
<li class="toctree-l3"><a class="reference internal" href="cascade.outcome.html">cascade.outcome</a></li>
<li class="toctree-l3"><a class="reference internal" href="cascade.set_nthreads.html">cascade.set_nthreads</a></li>
<li class="toctree-l3"><a class="reference internal" href="cascade.get_nthreads.html">cascade.get_nthreads</a></li>
<li class="toctree-l3"><a class="reference internal" href="cascade.set_logger_level_trace.html">cascade.set_logger_level_trace</a></li>
<li class="toctree-l3"><a class="reference internal" href="cascade.set_logger_level_debug.html">cascade.set_logger_level_debug</a></li>
<li class="toctree-l3"><a class="reference internal" href="cascade.set_logger_level_info.html">cascade.set_logger_level_info</a></li>
<li class="toctree-l3"><a class="reference internal" href="cascade.set_logger_level_warn.html">cascade.set_logger_level_warn</a></li>
<li class="toctree-l3"><a class="reference internal" href="cascade.set_logger_level_err.html">cascade.set_logger_level_err</a></li>
<li class="toctree-l3"><a class="reference internal" href="cascade.set_logger_level_critical.html">cascade.set_logger_level_critical</a></li>
</ul>
</details></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../mod_cascade_dynamics.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cascade.dynamics</span></code></a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l3"><a class="reference internal" href="cascade.dynamics.kepler.html">cascade.dynamics.kepler</a></li>
<li class="toctree-l3"><a class="reference internal" href="cascade.dynamics.simple_earth.html">cascade.dynamics.simple_earth</a></li>
<li class="toctree-l3"><a class="reference internal" href="cascade.dynamics.mascon_asteroid.html">cascade.dynamics.mascon_asteroid</a></li>
<li class="toctree-l3"><a class="reference internal" href="cascade.dynamics.mascon_asteroid_energy.html">cascade.dynamics.mascon_asteroid_energy</a></li>
</ul>
</details></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../collision_algorithm.html">Collision Algorithm</a></li>



</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Tutorials:</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../tutorials/quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/conjunctions.html">Conjunctions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/whitelists.html">Whitelists</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Examples:</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../examples/20yearsofLEO_coll.html">20 years of LEO - (collisions)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/oneweekofLEO_conj.html">One week of LEO - (conjunctions)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/itokawa_cubesats.html">Swarming Itokawa with cubesats</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Utilities:</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../utilities/leo_population.html">The current LEO population</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utilities/simple_atmosphere.html">A differentiable atmosphere</a></li>
<li class="toctree-l1"><a class="reference internal" href="../utilities/cubes.html">The <em>Cube</em> approach</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/esa/cascade" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/esa/cascade/issues/new?title=Issue%20on%20page%20%2Fgenerated/cascade.sim.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/generated/cascade.sim.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>cascade.sim</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim"><code class="docutils literal notranslate"><span class="pre">sim</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.__init__"><code class="docutils literal notranslate"><span class="pre">sim.__init__()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.coll_whitelist"><code class="docutils literal notranslate"><span class="pre">sim.coll_whitelist</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.compact_mode"><code class="docutils literal notranslate"><span class="pre">sim.compact_mode</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.conj_thresh"><code class="docutils literal notranslate"><span class="pre">sim.conj_thresh</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.conj_whitelist"><code class="docutils literal notranslate"><span class="pre">sim.conj_whitelist</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.conjunctions"><code class="docutils literal notranslate"><span class="pre">sim.conjunctions</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.ct"><code class="docutils literal notranslate"><span class="pre">sim.ct</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.exit_radius"><code class="docutils literal notranslate"><span class="pre">sim.exit_radius</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.high_accuracy"><code class="docutils literal notranslate"><span class="pre">sim.high_accuracy</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.interrupt_info"><code class="docutils literal notranslate"><span class="pre">sim.interrupt_info</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.min_coll_radius"><code class="docutils literal notranslate"><span class="pre">sim.min_coll_radius</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.n_par_ct"><code class="docutils literal notranslate"><span class="pre">sim.n_par_ct</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.npars"><code class="docutils literal notranslate"><span class="pre">sim.npars</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.nparts"><code class="docutils literal notranslate"><span class="pre">sim.nparts</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.pars"><code class="docutils literal notranslate"><span class="pre">sim.pars</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.propagate_until"><code class="docutils literal notranslate"><span class="pre">sim.propagate_until()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.reentry_radius"><code class="docutils literal notranslate"><span class="pre">sim.reentry_radius</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.remove_particles"><code class="docutils literal notranslate"><span class="pre">sim.remove_particles()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.reset_conjunctions"><code class="docutils literal notranslate"><span class="pre">sim.reset_conjunctions()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.set_new_state_pars"><code class="docutils literal notranslate"><span class="pre">sim.set_new_state_pars()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.state"><code class="docutils literal notranslate"><span class="pre">sim.state</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.step"><code class="docutils literal notranslate"><span class="pre">sim.step()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.time"><code class="docutils literal notranslate"><span class="pre">sim.time</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.tol"><code class="docutils literal notranslate"><span class="pre">sim.tol</span></code></a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="cascade-sim">
<h1>cascade.sim<a class="headerlink" href="#cascade-sim" title="Link to this heading">#</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="cascade.sim">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">cascade.</span></span><span class="sig-name descname"><span class="pre">sim</span></span><a class="headerlink" href="#cascade.sim" title="Link to this definition">#</a></dt>
<dd><p>The simulation class.</p>
<p>This class acts as a container for a collection of spherical particles, propagating their
states in time according to user-defined dynamical equations and accounting for
collisions and/or conjunctions.</p>
<p>The state of each particle is described by the following quantities:</p>
<ul class="simple">
<li><p>the three Cartesian positions <span class="math notranslate nohighlight">\(x\)</span>, <span class="math notranslate nohighlight">\(y\)</span> and <span class="math notranslate nohighlight">\(z\)</span>,</p></li>
<li><p>the three Cartesian velocities <span class="math notranslate nohighlight">\(v_x\)</span>, <span class="math notranslate nohighlight">\(v_y\)</span> and <span class="math notranslate nohighlight">\(v_z\)</span>,</p></li>
<li><p>the particle radius <span class="math notranslate nohighlight">\(s\)</span>.</p></li>
</ul>
<p>The dynamical equations describing the evolution in time of <span class="math notranslate nohighlight">\(\left( x,y,z,v_x,v_y,v_z \right)\)</span>
can be formulated via the <a class="reference external" href="https://github.com/bluescarni/heyoka.py">heyoka.py</a> expression system.
Alternatively, ready-made dynamical equations for a variety of use cases are available in the
<a class="reference internal" href="../mod_cascade_dynamics.html#module-cascade.dynamics" title="cascade.dynamics"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cascade.dynamics</span></code></a> module.</p>
<p class="rubric">Methods</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#cascade.sim.__init__" title="cascade.sim.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>(state, ct[, dyn, reentry_radius, ...])</p></td>
<td><p>Constructor.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#cascade.sim.propagate_until" title="cascade.sim.propagate_until"><code class="xref py py-obj docutils literal notranslate"><span class="pre">propagate_until</span></code></a>(t)</p></td>
<td><p>Attempts to advance the simulation time to <em>t</em>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#cascade.sim.remove_particles" title="cascade.sim.remove_particles"><code class="xref py py-obj docutils literal notranslate"><span class="pre">remove_particles</span></code></a>(idxs)</p></td>
<td><p>Removes particles from the simulation.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#cascade.sim.reset_conjunctions" title="cascade.sim.reset_conjunctions"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reset_conjunctions</span></code></a>()</p></td>
<td><p>Reset the conjunctions list.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#cascade.sim.set_new_state_pars" title="cascade.sim.set_new_state_pars"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_new_state_pars</span></code></a>(new_state[, new_pars])</p></td>
<td><p>Sets new values for the simulation state and parameters.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#cascade.sim.step" title="cascade.sim.step"><code class="xref py py-obj docutils literal notranslate"><span class="pre">step</span></code></a>()</p></td>
<td><p>Performs a single step of the simulation.</p></td>
</tr>
</tbody>
</table>
</div>
<p class="rubric">Attributes</p>
<div class="pst-scrollable-table-container"><table class="autosummary longtable table">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#cascade.sim.coll_whitelist" title="cascade.sim.coll_whitelist"><code class="xref py py-obj docutils literal notranslate"><span class="pre">coll_whitelist</span></code></a></p></td>
<td><p>Collision whitelist.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#cascade.sim.compact_mode" title="cascade.sim.compact_mode"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compact_mode</span></code></a></p></td>
<td><p>Compact mode.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#cascade.sim.conj_thresh" title="cascade.sim.conj_thresh"><code class="xref py py-obj docutils literal notranslate"><span class="pre">conj_thresh</span></code></a></p></td>
<td><p>Conjunction threshold.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#cascade.sim.conj_whitelist" title="cascade.sim.conj_whitelist"><code class="xref py py-obj docutils literal notranslate"><span class="pre">conj_whitelist</span></code></a></p></td>
<td><p>Conjunction whitelist.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#cascade.sim.conjunctions" title="cascade.sim.conjunctions"><code class="xref py py-obj docutils literal notranslate"><span class="pre">conjunctions</span></code></a></p></td>
<td><p>Conjunctions recorded during the simulation.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#cascade.sim.ct" title="cascade.sim.ct"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ct</span></code></a></p></td>
<td><p>Collisional time.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#cascade.sim.exit_radius" title="cascade.sim.exit_radius"><code class="xref py py-obj docutils literal notranslate"><span class="pre">exit_radius</span></code></a></p></td>
<td><p>Exit radius.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#cascade.sim.high_accuracy" title="cascade.sim.high_accuracy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">high_accuracy</span></code></a></p></td>
<td><p>High-accuracy mode.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#cascade.sim.interrupt_info" title="cascade.sim.interrupt_info"><code class="xref py py-obj docutils literal notranslate"><span class="pre">interrupt_info</span></code></a></p></td>
<td><p>Interrupt info.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#cascade.sim.min_coll_radius" title="cascade.sim.min_coll_radius"><code class="xref py py-obj docutils literal notranslate"><span class="pre">min_coll_radius</span></code></a></p></td>
<td><p>Minimum collisional radius.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#cascade.sim.n_par_ct" title="cascade.sim.n_par_ct"><code class="xref py py-obj docutils literal notranslate"><span class="pre">n_par_ct</span></code></a></p></td>
<td><p>Number of collisional timesteps to be processed in parallel.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#cascade.sim.npars" title="cascade.sim.npars"><code class="xref py py-obj docutils literal notranslate"><span class="pre">npars</span></code></a></p></td>
<td><p>Number of runtime paramenters.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#cascade.sim.nparts" title="cascade.sim.nparts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">nparts</span></code></a></p></td>
<td><p>Number of particles.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#cascade.sim.pars" title="cascade.sim.pars"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pars</span></code></a></p></td>
<td><p>Values of the runtime parameters appearing in the objects dynamics.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#cascade.sim.reentry_radius" title="cascade.sim.reentry_radius"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reentry_radius</span></code></a></p></td>
<td><p>The radius of the reentry domain.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#cascade.sim.state" title="cascade.sim.state"><code class="xref py py-obj docutils literal notranslate"><span class="pre">state</span></code></a></p></td>
<td><p>State of all the particles currently in the simulation.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#cascade.sim.time" title="cascade.sim.time"><code class="xref py py-obj docutils literal notranslate"><span class="pre">time</span></code></a></p></td>
<td><p>Current simulation time.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#cascade.sim.tol" title="cascade.sim.tol"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tol</span></code></a></p></td>
<td><p>Numerical integration tolerance.</p></td>
</tr>
</tbody>
</table>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="cascade.sim.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.3)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://numpy.org/doc/stable/reference/arrays.scalars.html#numpy.double" title="(in NumPy v2.3)"><span class="pre">numpy.double</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ct</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">dyn</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://bluescarni.github.io/heyoka.py/autosummary_generated/heyoka.expression.html#heyoka.expression" title="(in heyoka.py)"><span class="pre">heyoka.expression</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://bluescarni.github.io/heyoka.py/autosummary_generated/heyoka.expression.html#heyoka.expression" title="(in heyoka.py)"><span class="pre">heyoka.expression</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reentry_radius</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exit_radius</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pars</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.3)"><span class="pre">numpy.ndarray</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://numpy.org/doc/stable/reference/arrays.scalars.html#numpy.double" title="(in NumPy v2.3)"><span class="pre">numpy.double</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">high_accuracy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compact_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_par_ct</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conj_thresh</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_coll_radius</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coll_whitelist</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.13)"><span class="pre">Set</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">set()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conj_whitelist</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.13)"><span class="pre">Set</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">set()</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cascade.sim.__init__" title="Link to this definition">#</a></dt>
<dd><p>Constructor.</p>
<p>The only two mandatory arguments for the constructor are the initial state and the collisional
timestep. Several additional configuration options for the simulation can be specified either at
or after construction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.3)"><em>numpy.ndarray</em></a><em>[</em><a class="reference external" href="https://numpy.org/doc/stable/reference/arrays.scalars.html#numpy.double" title="(in NumPy v2.3)"><em>numpy.double</em></a><em>]</em>) – <p>The initial state vector for the simulation. Must be a two-dimensional array of shape
<span class="math notranslate nohighlight">\(n\times 7\)</span>, where the number of rows <span class="math notranslate nohighlight">\(n\)</span> is the number of particles in the simulation,
the first 6 columns contain the cartesian state variables <span class="math notranslate nohighlight">\(\left( x,y,z,v_x,v_y,v_z \right)\)</span>
of each particle, and the seventh column contains the particle sizes.</p>
<p>After construction, the state vector can be accessed via the <a class="reference internal" href="#cascade.sim.state" title="cascade.sim.state"><code class="xref py py-attr docutils literal notranslate"><span class="pre">state</span></code></a> attribute.</p>
</p></li>
<li><p><strong>ct</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – The length in time units of the collisional timestep. Must be positive and finite.
After construction, the collisional timestep can be changed at any time via the
<a class="reference internal" href="#cascade.sim.ct" title="cascade.sim.ct"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ct</span></code></a> attribute.</p></li>
<li><p><strong>dyn</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><em>Optional</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><em>List</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.13)"><em>Tuple</em></a><em>[</em><a class="reference external" href="https://bluescarni.github.io/heyoka.py/autosummary_generated/heyoka.expression.html#heyoka.expression" title="(in heyoka.py)"><em>heyoka.expression</em></a><em>, </em><a class="reference external" href="https://bluescarni.github.io/heyoka.py/autosummary_generated/heyoka.expression.html#heyoka.expression" title="(in heyoka.py)"><em>heyoka.expression</em></a><em>]</em><em>]</em><em>] </em><em>= None</em>) – <p>The particles’ dynamical equations. By default, the dynamics is purely Keplerian (see
<a class="reference internal" href="cascade.dynamics.kepler.html#cascade.dynamics.kepler" title="cascade.dynamics.kepler"><code class="xref py py-func docutils literal notranslate"><span class="pre">cascade.dynamics.kepler()</span></code></a>).</p>
<p>Note that the dynamical equations <strong>cannot</strong> be changed after construction.</p>
</p></li>
<li><p><strong>reentry_radius</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><em>Optional</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><em>List</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>]</em><em>] </em><em>= None</em>) – <p>The radius of the reentry domain. If a single scalar is provided, then the reentry
domain is a sphere of the given radius centred in the origin. If a list of 3 values is
provided, then the reentry domain is a triaxial ellipsoid centred in the origin whose
three semi-axes lengths <span class="math notranslate nohighlight">\(\left( a,b,c \right)\)</span> are given by the values in the list.</p>
<p>When a particle enters the reentry domain, a reentry event is triggered and the simulation
is stopped. If no reentry radius is provided (the default), then no reentry events are possible.</p>
</p></li>
<li><p><strong>exit_radius</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><em>Optional</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>= None</em>) – Exit radius. If provided, the simulation will track the distance of all particles
from the origin, and when a particle’s distance from the origin exceeds the provided limit,
the simulation will stop with an exit event. By default, no exit radius is defined.</p></li>
<li><p><strong>pars</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><em>Optional</em></a><em>[</em><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.3)"><em>numpy.ndarray</em></a><em>[</em><a class="reference external" href="https://numpy.org/doc/stable/reference/arrays.scalars.html#numpy.double" title="(in NumPy v2.3)"><em>numpy.double</em></a><em>]</em><em>] </em><em>= None</em>) – <p>Values of the dynamical parameters. If the particles’ dynamical equations contain
runtime parameters, their values can be provided via this argument, which must
be a two-dimensional array of shape <span class="math notranslate nohighlight">\(n\times N_p\)</span>, where <span class="math notranslate nohighlight">\(n\)</span> is the
number of particles in the simulation and <span class="math notranslate nohighlight">\(N_p\)</span> is the number of runtime
parameters appearing in the dynamical equations. Each row in the array contains
the values of the runtime parameters for the dynamics of the corresponding
particle.</p>
<p>If this argument is not provided (the default), then all runtime parameters for
all particles are initialised to zero. Note that the values of the runtime parameters
can be changed at any time via the <a class="reference internal" href="#cascade.sim.pars" title="cascade.sim.pars"><code class="xref py py-attr docutils literal notranslate"><span class="pre">pars</span></code></a> attribute.</p>
</p></li>
<li><p><strong>tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.13)"><em>Optional</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a><em>] </em><em>= None</em>) – The tolerance used when numerically solving the dynamical equations. If not provided,
it defaults to the double-precision epsilon (<span class="math notranslate nohighlight">\(\sim 2.2\times 10^{-16}\)</span>).</p></li>
<li><p><strong>high_accuracy</strong> (<em>bool = False</em>) – High-accuracy mode. If enabled, the numerical integrator will employ techniques
to minimise the accumulation of floating-point truncation errors, at the price
of a small performance penalty. This can be useful to maintain high accuracy
in long-running simulations.</p></li>
<li><p><strong>compact_mode</strong> (<em>bool = False</em>) – Compact mode. If enabled, the just-in-time compilation process will manipulate efficiently
also very long expression for the dynamics. This is useful, for example, when using long expansions
to model distrubances, or when gravity is modelled via mascon models. This comes at the price
of a performance penalty (~&lt;x2) in the resulting numerical integrator.</p></li>
<li><p><strong>n_par_ct</strong> (<em>int = 1</em>) – Number of collisional timesteps to be processed in parallel. This is a
tuning parameter that, while not affecting the correctness of the simulation,
can greatly influence its performance. The optimal value of this parameter
depends heavily on the specifics of the simulation, and thus users are advised
to experiment with different values to determine which one works best.</p></li>
<li><p><strong>conj_thresh</strong> (<em>float = 0.0</em>) – Conjunction threshold. Conjunctions are tracked only if the conjunction distance
is less than this threshold. By default, this value is set to zero, which means
that conjunction tracking is disabled. The conjunction threshold can be changed
at any time via the <code class="docutils literal notranslate"><span class="pre">conj_thresh</span></code> attribute.</p></li>
<li><p><strong>min_coll_radius</strong> (<em>float = 0.0</em>) – Minimum collisional radius. A collision between two particles is detected
only if the radius of at least one particle is greater than this value. By default,
this value is zero, which means that only collisions between point-like particles
are skipped. If this value is set to <span class="math notranslate nohighlight">\(+\infty\)</span>, then collision detection
is disabled for all particles. The minimum collisional radius can be changed
at any time via the <code class="docutils literal notranslate"><span class="pre">min_coll_radius</span></code> attribute.</p></li>
<li><p><strong>coll_whitelist</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.13)"><em>Set</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>] </em><em>= set</em><em>(</em><em>)</em>) – Collision whitelist. If <strong>not</strong> empty, then a collision between two particles is
detected only if at least one particle is in the whitelist. By default, the collision
whitelist is empty, which means that the whitelisting mechanism is disabled. The
collision whitelist can be changed at any time via the <code class="docutils literal notranslate"><span class="pre">coll_whitelist</span></code> attribute.</p></li>
<li><p><strong>conj_whitelist</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.13)"><em>Set</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>] </em><em>= set</em><em>(</em><em>)</em>) – Conjunction whitelist. If <strong>not</strong> empty, then a conjunction between two particles is
detected only if at least one particle is in the whitelist. By default, the conjunction
whitelist is empty, which means that the whitelisting mechanism is disabled. The
conjunction whitelist can be changed at any time via the <code class="docutils literal notranslate"><span class="pre">conj_whitelist</span></code> attribute.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cascade.sim.coll_whitelist">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">coll_whitelist</span></span><a class="headerlink" href="#cascade.sim.coll_whitelist" title="Link to this definition">#</a></dt>
<dd><p>Collision whitelist.</p>
<p>This <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code></a> contains the list of particles considered during the detection of
collision events. If this list is empty, then <em>all</em> particles are considered during
the detection of collision events.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cascade.sim.compact_mode">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">compact_mode</span></span><a class="headerlink" href="#cascade.sim.compact_mode" title="Link to this definition">#</a></dt>
<dd><p>Compact mode.</p>
<p>If enabled, the just-in-time compilation process will manipulate efficiently
also very long expression for the dynamics. This is useful, for example, when using long expansions
to model distrubances, or when gravity is modelled via mascon models. This comes at the price
of a performance penalty (~&lt;x2) in the resulting numerical integrator. Compact mode
cannot be changed after construction.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cascade.sim.conj_thresh">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">conj_thresh</span></span><a class="headerlink" href="#cascade.sim.conj_thresh" title="Link to this definition">#</a></dt>
<dd><p>Conjunction threshold.</p>
<p>Conjunctions are tracked only if the conjunction distance
is less than this threshold. By default, this value is set to zero, which means
that conjunction tracking is disabled. The conjunction threshold can be changed
at any time.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cascade.sim.conj_whitelist">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">conj_whitelist</span></span><a class="headerlink" href="#cascade.sim.conj_whitelist" title="Link to this definition">#</a></dt>
<dd><p>Conjunction whitelist.</p>
<p>This <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#set" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code></a> contains the list of particles considered during the detection of
conjunction events. If this list is empty, then <em>all</em> particles are considered during
the detection of conjunction events.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cascade.sim.conjunctions">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">conjunctions</span></span><a class="headerlink" href="#cascade.sim.conjunctions" title="Link to this definition">#</a></dt>
<dd><p>Conjunctions recorded during the simulation.</p>
<p>A read-only attribute containing all the conjunction events. The events are stored in a
<a class="reference external" href="https://numpy.org/doc/stable/user/basics.rec.html#structured-arrays" title="(in NumPy v2.3)"><span class="xref std std-ref">structured array</span></a> containing the following records:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">i</span></code>, (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>): id of the first particle involved in the conjunction event,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">j</span></code>, (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a>): id of the first particle involved in the conjunction event,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">t</span></code>, (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>): time of the conjunction event,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dist</span></code>, (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>): closest approach distance,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">state_i</span></code>, (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>): state (<span class="math notranslate nohighlight">\(x,y,z,vx,vy,vz\)</span>) of the first particle at the conjunction,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">state_j</span></code>, (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a>): state (<span class="math notranslate nohighlight">\(x,y,z,vx,vy,vz\)</span>) of the second particle at the conjunction.</p></li>
</ul>
<p>Whenever the cascade simulation is made with a <a class="reference internal" href="#cascade.sim.conj_thresh" title="cascade.sim.conj_thresh"><code class="xref py py-attr docutils literal notranslate"><span class="pre">conj_thresh</span></code></a> larger than its
default zero value, all conjunction events of whitelisted objects (or of all objects in case no whitelist is provided)
are detected and tracked. A conjunction event will not stop the simulation hence the user cannot ‘react’ to it.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cascade.sim.ct">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ct</span></span><a class="headerlink" href="#cascade.sim.ct" title="Link to this definition">#</a></dt>
<dd><p>Collisional time.</p>
<p>This <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> represents the length in time units of the collisional timestep. Must be positive and finite.
It can be set and its value will be used in the next call to the propagation methods
(such as <a class="reference internal" href="#cascade.sim.step" title="cascade.sim.step"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cascade.sim.step()</span></code></a> and <a class="reference internal" href="#cascade.sim.propagate_until" title="cascade.sim.propagate_until"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cascade.sim.propagate_until()</span></code></a>).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cascade.sim.exit_radius">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">exit_radius</span></span><a class="headerlink" href="#cascade.sim.exit_radius" title="Link to this definition">#</a></dt>
<dd><p>Exit radius.</p>
<p>If an exit radius is provided upon construction, the simulation will track the distance of all particles
from the origin, and when a particle’s distance from the origin exceeds this limit,
the simulation will stop with an exit event. By default, no exit radius is defined
and this attribute contains the scalar <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cascade.sim.high_accuracy">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">high_accuracy</span></span><a class="headerlink" href="#cascade.sim.high_accuracy" title="Link to this definition">#</a></dt>
<dd><p>High-accuracy mode.</p>
<p>If enabled, the numerical integrator will employ techniques
to minimise the accumulation of floating-point truncation errors, at the price
of a small performance penalty. This can be useful to maintain high accuracy
in long-running simulations. High-accuracy mode cannot be changed after construction.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cascade.sim.interrupt_info">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">interrupt_info</span></span><a class="headerlink" href="#cascade.sim.interrupt_info" title="Link to this definition">#</a></dt>
<dd><p>Interrupt info.</p>
<p>Returns the information on the outcome of the latest call to
the propagation methods of the <a class="reference internal" href="#cascade.sim" title="cascade.sim"><code class="xref py py-class docutils literal notranslate"><span class="pre">sim</span></code></a>
class (such as <a class="reference internal" href="#cascade.sim.step" title="cascade.sim.step"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cascade.sim.step()</span></code></a> and <a class="reference internal" href="#cascade.sim.propagate_until" title="cascade.sim.propagate_until"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cascade.sim.propagate_until()</span></code></a>).</p>
<p>The possible values of this attribute are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">None</span></code>: the propagation method finished successfully and no stopping
event was detected;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">(i,</span> <span class="pre">j)</span></code> (a pair of integers): the propagation method stopped due to the collision
between particles <code class="docutils literal notranslate"><span class="pre">i</span></code> and <code class="docutils literal notranslate"><span class="pre">j</span></code>;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i</span></code> (a single integer): particle <code class="docutils literal notranslate"><span class="pre">i</span></code> either entered the reentry domain or exited
the simulation domain;</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">(i,</span> <span class="pre">tm)</span></code> (integer + time coordinate): a non-finite state was detected for particle
<code class="docutils literal notranslate"><span class="pre">i</span></code> at time <code class="docutils literal notranslate"><span class="pre">tm</span></code>.</p></li>
</ul>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cascade.sim.min_coll_radius">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">min_coll_radius</span></span><a class="headerlink" href="#cascade.sim.min_coll_radius" title="Link to this definition">#</a></dt>
<dd><p>Minimum collisional radius.</p>
<p>A collision between two particles is detected
only if the radius of at least one particle is greater than this value. By default,
this value is zero, which means that only collisions between point-like particles
are skipped. If this value is set to <span class="math notranslate nohighlight">\(+\infty\)</span>, then collision detection
is disabled for all particles. The minimum collisional radius can be changed
at any time.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cascade.sim.n_par_ct">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_par_ct</span></span><a class="headerlink" href="#cascade.sim.n_par_ct" title="Link to this definition">#</a></dt>
<dd><p>Number of collisional timesteps to be processed in parallel.</p>
<p>This is a tuning parameter that, while not affecting the correctness of the simulation,
can greatly influence its performance. The optimal value of this parameter
depends heavily on the specifics of the simulation, and thus users are advised
to experiment with different values to determine which one works best.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cascade.sim.npars">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">npars</span></span><a class="headerlink" href="#cascade.sim.npars" title="Link to this definition">#</a></dt>
<dd><p>Number of runtime paramenters.</p>
<p>A read-only attribute containing the number of runtime parameters in the dynamics <span class="math notranslate nohighlight">\(N_p\)</span>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cascade.sim.nparts">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">nparts</span></span><a class="headerlink" href="#cascade.sim.nparts" title="Link to this definition">#</a></dt>
<dd><p>Number of particles.</p>
<p>A read-only attribute containing the current number of particles. The number of particles ina  simulation can be controlled
by removing particles via methods such as <a class="reference internal" href="#cascade.sim.remove_particles" title="cascade.sim.remove_particles"><code class="xref py py-meth docutils literal notranslate"><span class="pre">remove_particles()</span></code></a> or <a class="reference internal" href="#cascade.sim.set_new_state_pars" title="cascade.sim.set_new_state_pars"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_new_state_pars()</span></code></a>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cascade.sim.pars">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pars</span></span><a class="headerlink" href="#cascade.sim.pars" title="Link to this definition">#</a></dt>
<dd><p>Values of the runtime parameters appearing in the objects dynamics.</p>
<p>The parameters are stored in a two-dimensional <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a> of shape <span class="math notranslate nohighlight">\(n\times N_p\)</span>, where
<span class="math notranslate nohighlight">\(n\)</span> is the number of particles in the simulation and <span class="math notranslate nohighlight">\(N_p\)</span> is the number of runtime
parameters appearing in the dynamical equations.</p>
<p>While this is a read-only property (in the sense that it is not possible to set
a new array of runtime parameters via this property), the values contained in the
array CAN be written to.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cascade.sim.propagate_until">
<span class="sig-name descname"><span class="pre">propagate_until</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="cascade.outcome.html#cascade.outcome" title="cascade.outcome"><span class="pre">cascade.outcome</span></a></span></span><a class="headerlink" href="#cascade.sim.propagate_until" title="Link to this definition">#</a></dt>
<dd><p>Attempts to advance the simulation time to <em>t</em>.</p>
<p>Cascade will try to advance the simulation time to the
value given. If stopping events trigger in such a time interval,
the simulation will stop and set its state/time at
the epoch the first event was triggered.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>t</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><em>float</em></a>) – The propagation time.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The outcome of the propagation.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="cascade.outcome.html#cascade.outcome" title="cascade.outcome">cascade.outcome</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cascade.sim.reentry_radius">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">reentry_radius</span></span><a class="headerlink" href="#cascade.sim.reentry_radius" title="Link to this definition">#</a></dt>
<dd><p>The radius of the reentry domain.</p>
<p>The reentry domain is modelled either as a sphere (in which case this property
will be a single scalar representing the radius of the reentry sphere) or
as a triaxial ellipsoid (in which case this property will be a list of three
values representing the three semi-axes lengths <span class="math notranslate nohighlight">\(\left( a,b,c \right)\)</span>
of the ellipsoid). If no reentry radius was specified upon construction, this
attribute contains the scalar <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cascade.sim.remove_particles">
<span class="sig-name descname"><span class="pre">remove_particles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">idxs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#cascade.sim.remove_particles" title="Link to this definition">#</a></dt>
<dd><p>Removes particles from the simulation.</p>
<p>This takes care to remove all the particles and their corresponding parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>idxs</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.13)"><em>List</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><em>int</em></a><em>]</em>) – The indices of the particles to be removed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cascade.sim.reset_conjunctions">
<span class="sig-name descname"><span class="pre">reset_conjunctions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#cascade.sim.reset_conjunctions" title="Link to this definition">#</a></dt>
<dd><p>Reset the conjunctions list.</p>
<p>Clears the <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a> storing conjunctions events, thus freeing all associated memory.
This is useful in very long simulations where the number of conjunction events can grow
substantially. The user can then store them in some other form, or extract relevant statistics
to then reset the conjunctions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cascade.sim.set_new_state_pars">
<span class="sig-name descname"><span class="pre">set_new_state_pars</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.3)"><span class="pre">numpy.ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_pars</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.3)"><span class="pre">numpy.ndarray</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#cascade.sim.set_new_state_pars" title="Link to this definition">#</a></dt>
<dd><p>Sets new values for the simulation state and parameters.</p>
<p>If no <em>pars</em> are passed only the state will be set and all
parameters, if present, will be set to zero.</p>
<p>Note that this method should be used <strong>only</strong> if you need to alter the number
of particles in the simulation. If you all you need to do is to change
the state and/or parameter values for one or more particles, you can write directly
into <a class="reference internal" href="#cascade.sim.state" title="cascade.sim.state"><code class="xref py py-attr docutils literal notranslate"><span class="pre">state</span></code></a> and <a class="reference internal" href="#cascade.sim.pars" title="cascade.sim.pars"><code class="xref py py-attr docutils literal notranslate"><span class="pre">pars</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>new_state</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.3)"><em>numpy.ndarray</em></a>) – The new state for all particles (the shape must be <span class="math notranslate nohighlight">\(n \times 7\)</span>).</p></li>
<li><p><strong>new_pars</strong> (<em>numpy.ndarray = None</em>) – The new runtime parameters for the dynamics of all particles (the shape must be <span class="math notranslate nohighlight">\(n \times N_p\)</span>).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cascade.sim.state">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">state</span></span><a class="headerlink" href="#cascade.sim.state" title="Link to this definition">#</a></dt>
<dd><p>State of all the particles currently in the simulation.</p>
<p>The state is stored in a two-dimensional <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></a> of shape
<span class="math notranslate nohighlight">\(n\times 7\)</span>, where the number of rows <span class="math notranslate nohighlight">\(n\)</span> is the number of particles in the simulation,
the first 6 columns contain the cartesian state variables <span class="math notranslate nohighlight">\(\left( x,y,z,v_x,v_y,v_z \right)\)</span>
of each particle, and the seventh column contains the particle sizes.</p>
<p>While this is a read-only property (in the sense that it is not possible to set
a new array of runtime parameters via this property), the values contained in the
array CAN be written to.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cascade.sim.step">
<span class="sig-name descname"><span class="pre">step</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="cascade.outcome.html#cascade.outcome" title="cascade.outcome"><span class="pre">cascade.outcome</span></a></span></span><a class="headerlink" href="#cascade.sim.step" title="Link to this definition">#</a></dt>
<dd><p>Performs a single step of the simulation.</p>
<p>Cascade will try to advance the simulation time by
<a class="reference internal" href="#cascade.sim.ct" title="cascade.sim.ct"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ct</span></code></a> times <a class="reference internal" href="#cascade.sim.n_par_ct" title="cascade.sim.n_par_ct"><code class="xref py py-attr docutils literal notranslate"><span class="pre">n_par_ct</span></code></a> time units. If stopping events
(e.g., collision, reentry, etc.) trigger in such a time
interval, the simulation will stop and set its state/time at the epoch the first event was triggered.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The outcome of the simulation step.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="cascade.outcome.html#cascade.outcome" title="cascade.outcome">cascade.outcome</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cascade.sim.time">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">time</span></span><a class="headerlink" href="#cascade.sim.time" title="Link to this definition">#</a></dt>
<dd><p>Current simulation time.</p>
<p>This <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> contains the value of the current simulation time. It can be set, and
it is referred to in the dynamics equation as <code class="docutils literal notranslate"><span class="pre">heyoka.time</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cascade.sim.tol">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tol</span></span><a class="headerlink" href="#cascade.sim.tol" title="Link to this definition">#</a></dt>
<dd><p>Numerical integration tolerance.</p>
<p>The tolerance used when numerically solving the dynamical equations. If not provided,
it defaults to the double-precision epsilon (<span class="math notranslate nohighlight">\(\sim 2.2\times 10^{-16}\)</span>). The integration
tolerance cannot be changed after construction.</p>
</dd></dl>

</dd></dl>

</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../mod_cascade.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><code class="xref py py-mod docutils literal notranslate"><span class="pre">cascade</span></code></p>
      </div>
    </a>
    <a class="right-next"
       href="cascade.outcome.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">cascade.outcome</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim"><code class="docutils literal notranslate"><span class="pre">sim</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.__init__"><code class="docutils literal notranslate"><span class="pre">sim.__init__()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.coll_whitelist"><code class="docutils literal notranslate"><span class="pre">sim.coll_whitelist</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.compact_mode"><code class="docutils literal notranslate"><span class="pre">sim.compact_mode</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.conj_thresh"><code class="docutils literal notranslate"><span class="pre">sim.conj_thresh</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.conj_whitelist"><code class="docutils literal notranslate"><span class="pre">sim.conj_whitelist</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.conjunctions"><code class="docutils literal notranslate"><span class="pre">sim.conjunctions</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.ct"><code class="docutils literal notranslate"><span class="pre">sim.ct</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.exit_radius"><code class="docutils literal notranslate"><span class="pre">sim.exit_radius</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.high_accuracy"><code class="docutils literal notranslate"><span class="pre">sim.high_accuracy</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.interrupt_info"><code class="docutils literal notranslate"><span class="pre">sim.interrupt_info</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.min_coll_radius"><code class="docutils literal notranslate"><span class="pre">sim.min_coll_radius</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.n_par_ct"><code class="docutils literal notranslate"><span class="pre">sim.n_par_ct</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.npars"><code class="docutils literal notranslate"><span class="pre">sim.npars</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.nparts"><code class="docutils literal notranslate"><span class="pre">sim.nparts</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.pars"><code class="docutils literal notranslate"><span class="pre">sim.pars</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.propagate_until"><code class="docutils literal notranslate"><span class="pre">sim.propagate_until()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.reentry_radius"><code class="docutils literal notranslate"><span class="pre">sim.reentry_radius</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.remove_particles"><code class="docutils literal notranslate"><span class="pre">sim.remove_particles()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.reset_conjunctions"><code class="docutils literal notranslate"><span class="pre">sim.reset_conjunctions()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.set_new_state_pars"><code class="docutils literal notranslate"><span class="pre">sim.set_new_state_pars()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.state"><code class="docutils literal notranslate"><span class="pre">sim.state</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.step"><code class="docutils literal notranslate"><span class="pre">sim.step()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.time"><code class="docutils literal notranslate"><span class="pre">sim.time</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cascade.sim.tol"><code class="docutils literal notranslate"><span class="pre">sim.tol</span></code></a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Francesco Biscani and Dario Izzo
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023, Francesco Biscani and Dario Izzo.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>